CREATE TABLE customer (
	customer_seq NUMBER PRIMARY KEY
	,email	VARCHAR2(100)
	,pw		VARCHAR2(100) NOT NULL
	,name	VARCHAR2(100) NOT NULL
	,nick	VARCHAR2(100) NOT NULL
	,profileImg VARCHAR2(100)
    ,customer_type Number(1) NOT NULL
    ,UNIQUE(email,customer_type)
);


CREATE SEQUENCE customer_seq;

drop table customer;
drop table feed;

create table feed(
feed_seq number(38) PRIMARY key,
customer_seq NUMBER REFERENCES customer(customer_seq) on delete cascade,
checkin varchar2(100) not null,
contents varchar2(200) not null,
congestion number(1) not null,
likes number(38) default 0,
inputdate date default sysdate
);

CREATE SEQUENCE feed_seq;


CREATE TABLE hashtag (
   hashtag_seq NUMBER PRIMARY KEY
   ,customer_seq NUMBER REFERENCES customer(customer_seq) on delete cascade
   ,feed_seq NUMBER REFERENCES feed(feed_seq) on delete cascade
   ,contents   VARCHAR2(100) NOT NULL 
);

CREATE SEQUENCE hashtag_seq;